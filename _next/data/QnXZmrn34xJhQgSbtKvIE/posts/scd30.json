{"pageProps":{"post":"<h3>Measuring Temperature and CO2 with Sensirion SCD30</h3>\n<br/>\n\n<blockquote>\n<p>This post descibes how to set up the Sensirion SCD30 with a Raspberry Pi Zero and serve its\nmeasurements within your home network</p></blockquote>\n<p><b>Things you will need for this setup:</b>\n<br></p><ol>\n<li>Sensirion SCD30 (eg. from <a href=\"https://www.digikey.ch/en/products/detail/sensirion-ag/SCD30/8445334\">digikey</a>)</li>\n<li>Raspberry Pi (any except Pico) (eg. Raspberry Pi Zero from <a href=\"https://www.digikey.ch/en/products/detail/raspberry-pi/SC0065/18881027\">digikey</a>)</li>\n<li>Header Pins for the SCD30 (eg. from <a href=\"https://www.digikey.ch/en/products/detail/harwin-inc/D01-9922046/3727867\">digkey</a>)</li>\n<li>Jumper Wires (eg. from <a href=\"https://www.digikey.ch/en/products/detail/sparkfun-electronics/PRT-12796/5993861\">digikey</a>)</li>\n</ol>\n<p>First, you will have to solder the header pins on the SCD30 board, such that you can connect it to your Raspberry.\nOf course, you could also solder a wire directly to the sensor and connect it with the Raspberry. But assuming that\nyou want flexibility in what device you want to connect your sensor to, the approach via pins and jumper cable is probably\nthe easiest.</p><br>\nTo connect the sensor to the Raspberry via the I2C interface, you will have to connect the SCL, SDA and VDD pins to\nthe Raspberry Pi's SCL, SDA and 3.3V pins.\n\n<br>\n<br>\n<div style=\"text-align: center;\">\n<img src=\"scd30_pin.png\" style=\"width: 85%; margin: auto; align-self: center\" alt=\"\">\n</div>\n\n<br>\n<br>\n\n<p>The pin layout for the Raspberry Pi Zero can be found eg [here](https://www.pi4j.com/1.2/pins/model-zerow-rev1.html)</p><p>Once your sensor is connected to the power pin the XX should start blinking.</p><p>To check if the sensor is properly connected to the I2C interface, first enable I2C on your Raspberry via</p><pre><code class=\"language-bash\">sudo raspi-config\n# 3: Interface options -> I5 I2C</code></pre><p>Then install `i2c-tools` to check if the sensor is properly connected</p><pre><code class=\"language-bash\">sudo apt install i2c-tools\ni2cdetect -y 1</code></pre><p>This should show that you have device 0x61 connected.</p><p>Now you are ready to send commands to the sensor and read from it via the I2C Interface.\nThe available commands are listed in [Sensirion's Interface Description](https://sensirion.com/media/documents/D7CEEF4A/6165372F/Sensirion_CO2_Sensors_SCD30_Interface_Description.pdf)</p><br>\n\n<p>On my github, you will find a preconfigured C library that includes most of the important interface functions\nto start communicating with the sensor right away.</p><p>Simply include the `scd30` header file in your code and connect to the sensor.</p><br>\n\n<pre><code class=\"language-c\">#include \"scd30.h\"\n\nif (scd30_init() < 0) exit(1);\nstruct scd30_data data;\n\nwhile (1) {\n    while (!scd30_get_data_ready_status()) usleep(1000);\n    scd30_read_measurement(&data);\n    \n    printf(\"C02 is: %f\\n, data.co2);\n    printf(\"Temp is: %f\\n, data.temp);\n    printf(\"Humidity is: %d\\n, data.humidity);\n    \n    sleep(10);\n}</code></pre><p>If you would like to query your data from ...\nWebserver...</p><div style=\"text-align: center\">\n<img src=\"temp_monitor.png\" style=\"width: 85%; margin: auto; align-self: center\" alt=\"\">\n</div>\n"},"__N_SSG":true}